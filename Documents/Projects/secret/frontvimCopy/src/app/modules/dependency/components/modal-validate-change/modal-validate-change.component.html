<ngx-spinner 
bdColor="rgba(0,0,0,0.80)" 
size="large" 
color="#fff" 
type="ball-clip-rotate-multiple" 
[fullScreen]="true">
<p style="font-size: 2rem; color: white !important; margin-top:1rem">Procesando...</p>
</ngx-spinner>

<!-- Main modal -->
<nz-modal [nzStyle]="{top: '1rem'}" nzWidth="80%" [nzVisible]="true" [nzTitle]="modal_title"
  (nzOnCancel)="onHideModalClick()" (nzOnOk)="onHideModalClick()">

  <ng-container *nzModalContent>

    <div class="row modal-container" id="dictamine-modal">
      <div class="col-md-12 d-flex justify-content-center">
        <h2>Folios listos para cambiar de estatus</h2>
      </div>
    </div>

    <div class="row">
      <div class="col-sm-12 col-md-6">
        <table class="table table-borderless">
          <thead>
            <th class="text-center"><h4>Folios Ingresados</h4></th>
          </thead>
          <tbody>
            <tr *ngFor="let folio of actualData" [ngClass]="{'badge span-exists': folio.class == 'exists', 'badge span-doesnt-exists': folio.class == 'doesnt_exists'}">
              <td><h4 class="text-light bw-text" style="margin: 0;">{{folio.folio}}</h4></td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="col-sm-12 col-md-6">
        <table class="table table-borderless">
          <thead>
            <th class="text-center"><h4>Folios validos para {{current_status_text}}</h4></th>
          </thead>
          <tbody>
            <tr *ngFor="let folio of valid_folios" [ngClass]="{'badge span-exists': folio.class == 'exists', 'badge span-doesnt-exists': folio.class == 'doesnt_exists'}">
              <td><h4 class="text-light bw-text" style="margin: 0;">{{folio.folio}}</h4></td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </ng-container>

  <div *nzModalFooter class="">
    <button class="btn btn-custom-warning me-3" (click)="onHideModalClick()">Cancelar</button>
    <button class="btn btn-custom-danger me-3" (click)="interactRejectModal()">Rechazar</button>
    <button class="btn btn-custom-primary ms-3" (click)="interactWithData()">{{button_title}}</button>
  </div>

</nz-modal>


<!-- Modal for rejecting application -->
<nz-modal [nzStyle]="{top: '5rem'}" nzWidth="50%" [nzVisible]="show_reject_modal" nzTitle="Rechazar solicitudes"
  (nzOnCancel)="interactRejectModal()" (nzOnOk)="interactRejectModal()">

  <ng-container *nzModalContent>
    <form nz-form [formGroup]="formData" [nzLayout]="'vertical'">
      <div class="row">
        <div class="col-md-12">
          <nz-form-item class="">
            <nz-form-label nzRequired>Razón de rechazo</nz-form-label>
            <nz-form-control nzErrorTip="Por favor, seleccione una razón">
              <nz-select nzShowSearch nzAllowClear nzPlaceHolder="Selecciona una razón de rechazo"
                formControlName="select_reason">
                <nz-option *ngFor="let value of reject_list" nzLabel="{{value.descripcionCorta}}"
                  nzValue="{{value.descripcionCorta}}"></nz-option>
              </nz-select>
            </nz-form-control>
          </nz-form-item>
        </div>
      </div>
      <div class="row">
        <div class="col-md-12">
          <nz-form-item class="">
            <nz-form-label nzRequired>Observación</nz-form-label>
            <nz-form-control nzErrorTip="Por favor, escriba una observación">
              <textarea rows="4" nz-input formControlName="text_reason" nzPlaceHolder="Observación..."></textarea>
            </nz-form-control>
          </nz-form-item>
        </div>
      </div>
    </form>
  </ng-container>

  <div *nzModalFooter class="">
    <button class="btn btn-custom-warning me-3" (click)="interactRejectModal()">Cancelar</button>
    <button class="btn btn-custom-danger ms-3" (click)="rejectApplication()">Rechazar</button>
  </div>

</nz-modal>
